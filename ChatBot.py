from pyChatGPT import ChatGPT
import pyaudio


SAMPLE_RATE = 16000
FRAMES_PER_BUFFER = 3200


#token = input("Enter your ChatGPT session token: ")
token = "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..WLgpgjGh4UZwe3Gc.5BGm99HycHVQ4lHRRj5zxNqDQFgRqLhm7HaQrcJE9Oi13NbYX-sWO6uha6GxcQTAU7NvXiowtUdb7imnn-TGn1fYd79_pzWUutmJW8G5sS6YFITiEm5s7cBJQq_1-iezFgSGYLjCL-vJ_lyv4VeVI2r1R0WCDywa6hwemjkilTo47MjN4Up0b7a3wK5OrCpxYVMslEx-Vux5Ipyal28nNVZ5boHdd1uigE-GDU7T8ZuTpQ4_mQUBl1gav2_o7RCV_x9RRZwO0lNMVmFD-jXHG05B4VVfWj19RIriSp0NJPHEHlvrVK7EsG4MHyeKTUQTQkxxuxsMm57Lbxj1frL2CVhh72Q4mT8ZSKxQTLW5YCR0E8NAfBm_tYPSNcS3H22hgtvAwOOdn_tVNb89jL0PDMRDPBoSkHuMYH-ksH06qHMxJvstOAT8Ba1sKfJQ-O0qqGZ03aGM-4Bx-usyRFQQiZ8aqPPTcfOuZEPaWX2D2gTtR4-hPXHmLGV7ue9S13eNShv2WV3WiHQZWK3ZuvY7AawyhFA9ACKoGEA2Xtl9InmBBohgjPtvcwsJxTAfsPTAAmp9JYs6FBbltv1m-I87qWM5M6ORzj2iGIec80IvsZskDFPySnYUj3vYOonF7ChFzGq3gbP7VO8ZUdJ4app3AKgPVPDr_90hYW-uLcna1VrhUSEi5q_m86hz8ggXC8hN3qSY01UyMNG5EEQDQgdYPoIXfaP3YCwRQBerQS5y2DHl-4zflNkDiuipxH_6SQlxUGvnzJf_pH9QF2p30lSFaF9sdYX_1Q0NiqQVlezplHYXqdNvirOd_tjSbP4o5PsNqSFPrGArgOFK6jMbFyW6uJMIftNYkTTQ2WU0RaZlZ7y2jH62erNB1RyzPYPSe20j4j7RP-3x-GjyWZuyWKFC1zgORaUMkOeyfk1CJP7AIyqI_uCShzkNgmy4gvoUxJ70mUXrEnBxwJsWipilrN-6NxKgoPRipaVORvUKeCjNfdNjT4-f-9Rldkx4czLQYi71TIsaXK-zuHgZub8bZe9hyVXet5ydjVmfG97yM5yNtWUR5UwGcLIbm0nENG7apC9L1zT6u8k9Fzb1TcNGPwxqML1cCPPfr7ps1kJMJx9Btr3StMNMc5LB_53H3xuAaoppP3pJfksSO362zPpyHaqZpPhLjbDcSCjOMzHSuPkOr8_JeIDa21eCYi2S3fffgwDXvgJBXw-ZeQZ3UbsiSntIdorO-x_Kwt6QlQ2So0REeGQ1tW_fvr66V0aOmFTDqKuAQf3-oi_TqPqf77uxsB5HgeGI2980Rzq4Jb86kLWddrB4M-vDwWGSJgSTIzepHM4NoaoKWgytJDphCiiujKCOO9MRQh6esAFreEnh6Q7pXB65eABKcgYcmfv6mF6V5UQJPYzO8f3kMju7DV3UX7uI01haS_1KfI63EqG71be0WLe6wxrjIZ8A3YAPr9iWfhH12POSfRhQioT-7jexGdg4-F4UIbk7fTjfWxvlAoV1GlBRWKkX4rjhf2tMVevFckzSvP8kWuEnGCgSkLzFWeCxZA6s5WLJcl_a2b6vBftkelMPiYWzuajeV96C8BZF-koYQhgrPjgFQifuzjOX-Y_q4yswiw6CHpyIS0LVxcVaqSHd7mjm576ZwD8GbF0Qx7J02TQNR6NrwSc7FKrpDf73uPRbnxVlTNTk6hqU9Bk0tPNiMRhZy_qAgN63hsj014EPJps7t2ET2QXS5cCgRbDKPtVt9avZz83EmI8PWW2xXvgA_seJg7etKHI31vD0x-BGDMg1eKLg4pzNNrf1BRLHv_mqvI4S8dwVkDnnVT0fGCEm1S5AXkGCv57FwSusMOEOEtZUuCUAdr500jA8mRxAlfyUv0zJB6r4M0c_7RNaMyZgl0Emdb-Rk3KoCvNJlwQ_zOwuPYx0XU2FegNxRIq03HE-YLYaBP8mAeBZ2bVMZYR0epUuhO2uCd-iWqQpzW7ZCTHtJm-ozzWwIATohncUMKYlQFudm5-O1DslthQdigjPEWmfYCtrdaOVg3d61LVrj6pLZZ14gs5liKJapzSp55NC3H6NzRUu2IvelfhJNaPc_qI5-BDeiOhxNuxWxE_qHXDEyYSq3yws4bVFnFXhA7SLlnX6W-W2FHY0FVZQQY9Uy27VEO2Ocri5KSF5Xyq2vI-UEr3px8UwGqQRN0is9sDtaHVVg-7xLr1SjcRVf09qNfzo5IsqhRnV5OFcugOh7Q65qJEVaZDc06KMbTyUizeJIkLERpkbyoLmx3iT.fNXwwCvGTzxio8nOEEAyIg"
api = ChatGPT(token)


#Open audio stream
p = pyaudio.PyAudio()
audio_stream = p.open(
    frames_per_buffer = FRAMES_PER_BUFFER,
    rate = SAMPLE_RATE,
    format = pyaudio.paInt16,
    channels = 1,
    input = True,
)

words = input("\n\n_____________________\n\nUser: ")
while words != "exit":    
    response = api.send_message(words)
    print("ChatGPT:", response['message'])
    words = input("User: ")

#api.reset_conversation()
api.clear_conversations()
#api.refresh_chat_page()


